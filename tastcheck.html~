<!DOCTYPE html>
<html lang="de" onkeydown="KeyCheck(event);">
<head>
  <meta charset="utf-8">
  <title>Moveexperiment 2</title>
    
  <style> 
	#monster {position:absolute;
			left: 700px;
			top: 60px;
			
			}
	#monstrum{
			width:  60px;
			height: 60px;
	
			}
	#block {position: absolute;
			left: 700px;
			top: 500px;
		  			}
	#ship 	{width: 50px;
			height: 50px;}
	
	#strahl{
			width: 3px;
			height: 20px;
			background-color: red;
			}
	#istrahl{
			position:absolute;
			
			width: 3px;
			height: 20px;
			background-color: red;
			}
  </style> 
  
  </head>
  
  <body>
  <div id = "block"><img id="ship" src = ship.png></div>
  <div id = "monster"> <img id="monstrum" src= monster.png></div> 
  
  <script>
 
 var posx = 0;
 var posy = 0;
 block.style.left = '700px';

 function KeyCheck(event) {
 		var KeyID = event.keyCode;
 		if (KeyID == 39) {
 			block.style.left = parseInt(block.style.left) + 5 + 'px';
 		} else if (KeyID == 37) {
 			block.style.left = parseInt(block.style.left) - 5 + 'px';
 		}
 		if (block.style.left >= '800px' & KeyID == 39) {
 			block.style.left = '800px';
 		} else if (block.style.left <= '600px' & KeyID == 37) {
 			block.style.left = '600px';
 		}
 		var pos = 0;
 		if (KeyID == 38) {
 			var id = setInterval(frame, 10);
 			var Strahl = document.createElement('div');
 			document.body.appendChild(Strahl);
 			Strahl.id = 'istrahl';

 			function frame() {
 				if (id == 100) {
 					clearInterval(id);
 				} else {
 					pos++;
 					Strahl.style.top = 500 - 5 * pos + "px";
 					Strahl.style.left = parseInt(block.style.left) + 22 + "px";
 					posx = parseInt(Strahl.style.left);
 					posy = parseInt(Strahl.style.top);
 					if (Strahl.style.top <= '20px') {}
 				}
 			}
 		}
 	}
 	//highmove(posx, posy);
 var monstermove = 0;
 monster.style.left = '700px'
 var monst = setInterval(highmove, 15 );

 function highmove( ) {
 	if (monstermove == 10000) { //Schluss nach 10000 * .15s ???
 		clearInterval(monst);
 	} else {
 		monstermove++;
 		monster.style.top = '20px';
 		monster.style.left = 700 + 100 * Math.sin(0.02 * monstermove) + "px";
 		if ((Math.abs(posx + 30 - parseInt(monster.style.left)) < 40) && (Math.abs(posy - parseInt(monster.style.top)) < 40)) {
 			alert('hit');
 		}
 	}
 }
 
  </script>
  
  
  
  </body>
  
